/*!
 * csrdelft.js
 * 
 * @author C.S.R. Delft <pubcie@csrdelft.nl>
 * @author P.W.G. Brussee <brussee@live.nl>
 * 
 * De stek layout uit 2014
 */
var shiftPressed=false;var ctrlPressed=false;$(document).ready(function(){init_keyPressed();init_timeago();init_dataTables()});function init_timeago(){$.timeago.settings.strings={prefiprefixAgo:"",prefixFromNow:"sinds",suffixAgo:"geleden",suffixFromNow:"",seconds:"minder dan een minuut",minute:"1 minuut",minutes:"%d minuten",hour:"1 uur",hours:"%d uur",day:"een dag",days:"%d dagen",month:"een maand",months:"%d maanden",year:"een jaar",years:"%d jaar",wordSeparator:" ",numbers:[]};$("abbr.timeago").timeago()}function init_keyPressed(){$(window).keydown(function(a){if(a.which===16){shiftPressed=true}else{if(a.which===17){ctrlPressed=true}}});$(window).keyup(function(a){if(a.which===16){shiftPressed=false}else{if(a.which===17){ctrlPressed=false}}})}function init_dataTables(){$.extend($.fn.dataTable.defaults,{dom:"frtpli",deferRender:true,lengthMenu:[[10,15,25,50,100],[10,15,25,50,100]],displayLength:15,drawCallback:function(a){groupByColumn(this,a)}})}function childRow(f,d){var c=f.closest("tr");var e=d.row(c);if(e.child.isShown()){if(c.hasClass("childrow-shown")){e.child.hide();c.removeClass("childrow-shown")}}else{e.child("").show();c.addClass("childrow-loading");var a=c.next().addClass("childrow");var b=a.children(":first");$.ajax({url:f.attr("href")}).done(function(g){if(e.child.isShown()){c.removeClass("childrow-loading");c.addClass("childrow-shown");b.html(g)}})}}function multiSelect(b){if(b.hasClass("group")){if(b.nextUntil(".group").not(".selected").length!==0){if(!shiftPressed){b.siblings(".selected").removeClass("selected")}b.nextUntil(".group").addClass("selected")}else{b.nextUntil(".group").removeClass("selected")}}else{b.toggleClass("selected");if(shiftPressed){var a=b.hasClass("selected");if(b.prevAll(".selected").not(".group").length!==0){b.prevUntil(".selected").not(".group").each(function(){$(this).toggleClass("selected",a)})}else{if(b.nextAll(".selected").not(".group").length!==0){b.nextUntil(".selected").not(".group").each(function(){$(this).toggleClass("selected",a)})}}}}}function setGroupByColumn(b,a){$(b).attr("groupByColumn",a)}function getGroupByColumn(b){var a=parseInt($(b).attr("groupByColumn"));if(isNaN(a)){return false}return a}function groupByColumn(h,e){var d=h.api();var g=d.rows({page:"current"}).nodes();var f=null;var a=getGroupByColumn(h.selector);if(ctrlPressed){var b=d.order()[0];if(a===false||a!==b[0]){if(a!==false){var c=d.column(a);c.visible(!c.visible());c=d.column(b[0]);c.visible(!c.visible())}a=b[0]}else{if(a===b[0]){a=false}}setGroupByColumn(h.selector,a)}if(a===false){return}d.column(a,{page:"current"}).data().each(function(k,j){if(f!==k){$(g).eq(j).before('<tr class="group"><td colspan="'+e.aoColumns.length+'">'+k+"</td></tr>");f=k}})};